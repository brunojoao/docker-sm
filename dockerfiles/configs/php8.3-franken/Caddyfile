{
        {$CADDY_GLOBAL_OPTIONS}

        frankenphp {
                #worker /path/to/your/worker.php
                {$FRANKENPHP_CONFIG}
        }

        # https://caddyserver.com/docs/caddyfile/directives#sorting-algorithm
        order mercure after encode
        order vulcain after reverse_proxy
        order php_server before file_server
        order php before file_server
}

{$CADDY_EXTRA_CONFIG}

{$SERVER_NAME:localhost} {
        log {
                # Redact the authorization query parameter that can be set by Mercure
                format filter {
                        wrap console
                        fields {
                                uri query {
                                        replace authorization REDACTED
                                }
                        }
                }
        }

        root * public/
        encode zstd gzip

        # Uncomment the following lines to enable Mercure and Vulcain modules
        #mercure {
        #       # Transport to use (default to Bolt)
        #       transport_url {$MERCURE_TRANSPORT_URL:bolt:///data/mercure.db}
        #       # Publisher JWT key
        #       publisher_jwt {env.MERCURE_PUBLISHER_JWT_KEY} {env.MERCURE_PUBLISHER_JWT_ALG}
        #       # Subscriber JWT key
        #       subscriber_jwt {env.MERCURE_SUBSCRIBER_JWT_KEY} {env.MERCURE_SUBSCRIBER_JWT_ALG}
        #       # Allow anonymous subscribers (double-check that it's what you want)
        #       anonymous
        #       # Enable the subscription API (double-check that it's what you want)
        #       subscriptions
        #       # Extra directives
        #       {$MERCURE_EXTRA_DIRECTIVES}
        #}
        #vulcain

        {$CADDY_SERVER_EXTRA_DIRECTIVES}

        php_server
}

http://localhost:80 {
	root * /var/www/projects/essentia-test-list/public
	php_server
}
http://localhost:9996 {
	root * /var/www/projects/essentia-test-list/public
	php_server
}
http://localhost:9401 {
	root * /var/www/projects/gerenciador-compras-1/public
	php_server
}

http://localhost:9402 {
	root * /var/www/projects/gerenciador-compras-2/public
	php_server
}

http://localhost:9403 {
	root * /var/www/projects/gerenciador-compras-3/public
	php_server
}

http://localhost:9404 {
	root * /var/www/projects/gerenciador-compras-4/public
	php_server
}

http://localhost:9405 {
	root * /var/www/projects/gerenciador-compras-5/public
	php_server
}

http://localhost:9420 {
	root * /var/www/projects/selfcheckout-especial/public
	php_server
}

http://localhost:9421 {
	root * /var/www/projects/selfcheckout-1/public
	php_server
}

http://localhost:9422 {
	root * /var/www/projects/selfcheckout-2/public
	php_server
}

http://localhost:9423 {
	root * /var/www/projects/selfcheckout-3/public
	php_server
}

http://localhost:9424 {
	root * /var/www/projects/selfcheckout-4/public
	php_server
}

http://localhost:9425 {
	root * /var/www/projects/selfcheckout-5/public
	php_server
}

http://localhost:9430 {
	root * /var/www/projects/prateleira-infinita/public
	php_server
}

http://localhost:9440 {
	root * /var/www/projects/ultramonitor/public
	php_server
}

